<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    <!-- TODO : Supprimer apres Svelte -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>

    <link rel="stylesheet" href="cv.css" />
    <script src="cv.js"></script>

    <title>CV</title>
</head>

<body>
    <div id="print" class="block" hidden="hidden">
        <table>
            <thead>
                <tr>
                    <th scope="col">CV</th>
                    <th scope="col">FR</th>
                    <th scope="col">EN</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Censuré</strong></td>
                    <td><a href="?lang=fr&censored=on">FR-Censuré</a></td>
                    <td><a href="?lang=en&censored=on">EN-Censuré</a></td>
                </tr>
                <tr>
                    <td><strong>Complet</strong></td>
                    <td><a href="?lang=fr&censored=off">FR-Complet</a></td>
                    <td><a href="?lang=en&censored=off">EN-Complet</a></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="cv">
    </div>
</body>
<script id="template" type="text/x-handlebars-template">
    {{#with data}}
    <section id="header" class="block">
        <img class="round shadow" src="images/profil.jpg" alt="photo de profil" />
        <div class="">
            {{#with infos-perso}}
            <h1 class="font-bold">{{prenom}} {{nom}}</h1>
            <div class="info-grid">
                <img class="icon rounded-sm shadow-sm" src="images/bootstrap-icons/envelope-fill.svg" alt="adresse">
                <div class="info">{{sensible adresse}}</div>

                <img class="icon rounded-sm shadow-sm" src="images/bootstrap-icons/telephone-fill.svg"
                    alt="telephone">
                <div class="info">{{sensible tel}}</div>

                <img class="icon rounded-sm shadow-sm" src="images/bootstrap-icons/at.svg" alt="email">
                <div class="info"><a href="mailto:{{email}}">{{email}}</a></div>

                <img class="icon rounded-sm shadow-sm" src="images/linkedin-brands.svg" alt="linkedin">
                <div class="info"><a href="http://www.{{linkedin}}">{{linkedin}}</a></div>

                <img class="icon rounded-sm shadow-sm" src="images/birthday-cake-solid.svg" alt="date de naissance">
                <div class="info">{{date ddn dateStyle="long"}} ({{age ddn}} {{i18n ../../structure.age}})</div>
            </div>
            {{/with}}
        </div>
        <div class="text-center">
            {{#with recherche}}
            <h2 class="font-bold">{{i18n titre}}</h2>
            <h3 class="font-bold">{{i18n objet}}</h3>
            <span class="font-light font-italic">
                {{#list interets sep=" – "}}{{this}}{{/list}}
            </span><br />
            {{i18n contexte}}<br />
            {{i18n ../../structure.conjonctions.des}} {{date dates.debut dateStyle="long"}}<br />
            {{#list lieux sep=", "}}{{i18n this}}{{/list}}<br />
            {{i18n permis.texte}} – {{i18n vehicule.texte}}
            {{/with}}
        </div>
    </section>
    <section id="skills" class="block">
        {{#with competences}}
        <h4 class="block-header">{{i18n ../../structure.sections.competences}}</h4>
        <div class="skills">
            <fieldset id="soft-skills">
                <legend>{{i18n ../../structure.competences.personnelles}}</legend>
                <div class="text-center">
                    {{#list personnelles sep=" • "}}{{this}}{{/list}}
                </div>
            </fieldset>

            <fieldset id="dev-skills">
                <legend>{{i18n ../../structure.competences.dev}}</legend>
                <div class="horizontal-skills-levels">
                    {{#each dev}}
                    <div class="language skill" style="text-align: right">
                        {{langage}}
                    </div>

                    {{#if niveau}}
                    <progress class="level" max="100" value="{{progress-width niveau}}"></progress>
                    {{/if}}
                    
                    {{#if remarque}}
                    <div class="level text-center font-italic font-light">
                        {{i18n remarque}}
                    </div>
                    {{/if}}
                    {{/each}}
                </div>
            </fieldset>

            <fieldset id="web-skills">
                <legend>{{i18n ../../structure.competences.web}}</legend>
                <div class="vertical-skills-levels">
                    {{#each web}}
                    <div class="skill">
                        <div>
                            {{#list technos sep=" • "}}{{this}}{{/list}}
                        </div>
                        
                        {{#if niveau}}
                        <progress class="level" max="100" value="{{progress-width niveau}}"></progress>
                        {{/if}}
                        
                        {{#if remarque}}
                        <div class="level font-italic font-light">
                            {{i18n remarque}}
                        </div>
                        {{/if}}
                    </div>
                    {{/each}}
                </div>
            </fieldset>

            <fieldset id="notions">
                <legend>{{i18n ../../structure.competences.notions}}</legend>
                <div class="vertical-skills-levels">
                    {{#each notions}}
                    <div class="skill">
                        <div>
                            {{i18n notion}}
                        </div>

                        {{#if niveau}}
                        <progress class="level" max="100" value="{{progress-width niveau}}"></progress>
                        {{/if}}
                        
                        {{#if remarque}}
                        <div class="level font-italic font-light">
                            {{i18n remarque}}
                        </div>
                        {{/if}}
                    </div>
                    {{/each}}
                </div>
            </fieldset>

            <fieldset id="tools">
                <legend>{{i18n ../../structure.competences.outils}}</legend>
                <div class="text-center">
                    {{#list outils sep=" • "}}{{this}}{{/list}}
                </div>
            </fieldset>

            <fieldset id="languages-skills">
                <legend>{{i18n ../../structure.competences.langues}}</legend>
                <div class="icon-data-grid">
                    {{#each langues}}
                    <img class="icon round shadow-sm" src="images/{{code_iso}}.png" alt="{{langue}}" />
                    <div class="data">
                        {{#each niveau}}
                        {{#if @first}}
                        {{i18n this}}
                        {{else}}
                        <span class="font-italic">{{i18n this}}</span>
                        {{/if}}
                        <br />
                        {{/each}}
                    </div>
                    {{/each}}
                </div>
            </fieldset>

            <fieldset>
                <legend>{{i18n ../../structure.competences.os}}</legend>
                <div id="os">
                    {{#each os}}
                    <img class="round shadow-sm" src="images/{{this}}.png" alt="{{this}}" />
                    {{/each}}
                </div>
            </fieldset>
        </div>
        {{/with}}
    </section>

    <section id="education" class="block">
        <h4 class="block-header">{{i18n ../structure.sections.formation}}</h4>
        <div class="date-icon-data-grid">
            {{#each formations}}
                <div class="date font-bold">
                    <div>
                        {{this.dates.fin}}
                    </div>
                    <div>
                        {{this.dates.debut}}
                    </div>
                </div>

                <div class="icon">
                    <img src="images/{{this.id}}.png" alt="{{this.id}}" class="round shadow-sm" />
                </div>
                
                <div class="data">
                    {{this.formation}} {{this.ecole}}<br />
                    
                    {{#if this.departement}}
                    {{this.departement}}<br />
                    {{/if}}
                    
                    {{this.specialite}}<br />
                    
                    {{#if this.cours}}
                    <span class="font-italic">
                        {{#list this.cours sep=" – "}}{{this}}{{/list}}
                    </span><br />
                    {{/if}}
                    
                    {{#if this.mention}}
                    {{this.mention}}<br />
                    {{/if}}
                </div>
            {{/each}}
        </div>
    </section>

    <section id="projects" class="block">
        <h4 class="block-header">{{i18n ../structure.sections.projets}}</h4>
        <div class="icon-data-grid">
            {{#each projets}}
            <img src="images/{{this.id}}.png" alt="{{this.id}}" class="icon round shadow-sm" />

            <div class="data">
                {{this.projet}}<br />
                <span class="font-italic">
                    {{#if this.temps}}
                    {{this.temps}} –
                    {{/if}}
                    
                    {{#if this.contexte}}
                    {{this.contexte}} –
                    {{/if}}
                    
                    {{#if this.employeur}}
                    {{this.employeur}} –
                    {{/if}}
                    
                    {{#list this.technos sep=" – "}}{{this}}{{/list}}
                </span><br />
            </div>
            {{/each}}
        </div>
        <div class="font-italic font-light">
            Et plein d'autres encore...
        </div>
    </section>

    <section id="jobs" class="block">
        <h4 class="block-header">{{i18n ../structure.sections.experiences}}</h4>
        <div class="date-icon-data-grid">
            {{#each experiences}}
            <div class="date font-bold">
                {{#if this.annee}}
                <div class="">
                    {{this.annee}}
                </div>
                {{/if}}
                
                {{#if this.annees}}
                {{this.annees.fin}}<br />
                {{this.annees.debut}}
                {{/if}}
            </div>

            <img src="images/{{this.id}}.png" alt="{{this.id}}" class="icon round shadow-sm" />
            
            <div class="data">
                {{#list this.experience sep="<br />"}}{{this}}{{/list}}<br />
                <span class="font-italic">
                    {{#if this.duree}}
                    {{this.duree}}
                    {{#if this.contexte}} – {{/if}}
                    {{/if}}
                    
                    {{#if this.contexte}}
                    {{this.contexte}} –
                    {{/if}}
                    
                    {{#if this.employeur}}
                    {{this.employeur}}
                    {{/if}}
                    
                    {{#if this.technos}}
                    – {{#list this.technos sep=" – "}}{{this}}{{/list}}
                    {{/if}}
                </span><br />
            </div>
            {{/each}}
        </div>
    </section>

    <section id="interests" class="block">
        <h4 class="block-header">{{i18n ../structure.sections.interets}}</h4>
        <div class="title-data-grid">
            {{#each interets}}
            <div class="title font-bold">
                {{this.interet}}
            </div>

            <div class="data">
                {{#list this.liste sep=" • "}}{{this.nom}}
                {{#if this.details}}
                <span class="font-italic font-light">({{this.details}})</span>
                {{/if}}
                {{/list}}
            </div>
            {{/each}}
        </div>
    </section>
    {{/with}}
</script>

</html>